(window["webpackJsonpwebassembly-test-app"]=window["webpackJsonpwebassembly-test-app"]||[]).push([[0],{153:function(e,t,r){e.exports=r(293)},292:function(e,t,r){},293:function(e,t,r){"use strict";r.r(t);var a=r(0),s=r.n(a),n=r(34),o=r.n(n),i=r(39),c=r(140),l=r(31),p=r(304),m=r(305),u=r(302),h=r(300),d=r(143),g=r(301),w=r(18),y=r.n(w);var v=class{constructor(){this.result=null,this.startTime=null,this.stopTime=null}prepareTestData(e){console.warn(this.constuctor.name+" not implemented.")}resetTestData(e){console.warn(this.constuctor.name+" not implemented.")}run(){console.warn(this.constuctor.name+" not implemented.")}start(){this.startTime=performance.now()}stop(){this.stopTime=performance.now(),this.result=this.stopTime-this.startTime}results(){return this.result}createCanvas(e){const t=document.createElement("canvas");return t.width=e.width,t.height=e.height,t.getContext("2d").drawImage(e,0,0),t}updateCanvas(e,t){e.width=t.width,e.height=t.height,e.getContext("2d").putImageData(t.getContext("2d").getImageData(0,0,t.width,t.height),0,0)}};var f=class extends v{fibonacci(e){let t,r=0,a=1;for(;e-- >0;)t=r,r=a,a+=t;return r}run(e){console.debug("start "+this.constructor.name),super.start(),this.fibonacci(...e.parameters),super.stop(),console.debug("stop "+this.constructor.name)}};var b=class extends v{constructor(){super(),this.moves=""}hanoi(e,t,r,a){return e>0&&(this.hanoi(e-1,t,a,r),this.moves+=t+"->"+a+"\n",this.hanoi(e-1,r,t,a)),this.moves}run(e){console.debug("start "+this.constructor.name),super.start(),this.hanoi(...e.parameters),super.stop(),console.debug("stop "+this.constructor.name)}};var x=class extends v{sort(e){return e.sort((e,t)=>e.name<t.name?-1:e.name>t.name?1:0)}run(e){console.debug("start "+this.constructor.name);let t=JSON.parse(JSON.stringify(e.externalData.data));super.start(),this.sort(t),super.stop(),console.debug("stop "+this.constructor.name)}};var E=class extends v{prime(e){let t=[];e>2&&t.push(2),e>3&&t.push(3);let r=Array(e).fill(!1);for(let a=1;a*a<e;a++)for(let t=1;t*t<e;t++){let s=4*a*a+t*t;s<=e&&(s%12===1||s%12===5)&&(r[s]^=!0),(s=3*a*a+t*t)<=e&&s%12===7&&(r[s]^=!0),s=3*a*a-t*t,a>t&&s<=e&&s%12===11&&(r[s]^=!0)}for(let a=5;a*a<e;a++)if(r[a])for(let t=a*a;t<e;t+=a*a)r[t]=!1;for(let a=5;a<e;a++)r[a]&&t.push(a);return t}run(e){console.debug("start "+this.constructor.name),this.start(),this.prime(...e.parameters),this.stop(),console.debug("stop "+this.constructor.name)}},O=r(41);var D=class extends v{aes_encrypt(e,t,r){return new O.ModeOfOperation.cbc(e,t).encrypt(r)}aes_decrypt(e,t,r){return new O.ModeOfOperation.cbc(e,t).decrypt(r)}run(e){console.debug("start "+this.constructor.name);let t=O.utils.utf8.toBytes(e.externalData.data);super.start(),this.aes_encrypt(...e.parameters,t),super.stop(),console.debug("stop "+this.constructor.name)}},j=r(130),k=r.n(j);var P=class extends v{deflate(e){return k.a.deflate(e,{raw:!0})}run(e){console.debug("start "+this.constructor.name);let t=O.utils.utf8.toBytes(e.externalData.data);super.start(),this.deflate(t),super.stop(),console.debug("stop "+this.constructor.name)}};var C=class extends v{constructor(...e){super(...e),this.convoluteFilter=(e,t,r)=>{const a=Math.round(Math.sqrt(t.length)),s=Math.floor(a/2),n=e.getContext("2d"),o=n.getImageData(0,0,e.width,e.height),i=o.data,c=o.width,l=o.height,p=n.createImageData(c,l),m=p.data;for(let u=0;u<l;u++)for(let e=0;e<c;e++){const n=4*(u*c+e);let o=0,p=0,h=0;for(let r=0;r<a;r++)for(let n=0;n<a;n++){const m=u+r-s,d=e+n-s;if(m>=0&&m<l&&d>=0&&d<c){const e=4*(m*c+d),s=t[r*a+n];o+=i[e]*s,p+=i[e+1]*s,h+=i[e+2]*s}}m[n]=o*r,m[n+1]=p*r,m[n+2]=h*r,m[n+3]=i[n+3]}n.putImageData(p,0,0)}}convolve(e){this.convoluteFilter(e,[0,.2,0,.2,.2,.2,0,.2,0],1)}run(e){console.debug("start "+this.constructor.name);const t=this.createCanvas(e.externalData.data);super.start(),this.convolve(t),super.stop(),this.updateCanvas(e.canvas,t),console.debug("stop "+this.constructor.name)}};var S=class extends v{run(e){console.debug("start "+this.constructor.name);const t=this.createCanvas(e.externalData.data);super.start(),window.wasm.rust.convolve(t),super.stop(),this.updateCanvas(e.canvas,t),console.debug("stop "+this.constructor.name)}};var I=class extends v{run(e){console.debug("start "+this.constructor.name);const t=this.createCanvas(e.externalData.data);super.start();const r=t.getContext("2d"),a=r.getImageData(0,0,t.width,t.height);a.data.set(window.wasm.go.convolve_mem(a.data,t.width,t.height)),r.putImageData(a,0,0),super.stop(),this.updateCanvas(e.canvas,t),console.debug("stop "+this.constructor.name)}};var T=class extends v{constructor(e){super();const t=typeof e;if("function"!==t)throw new Error("method parameter must be a function, actually it is '"+t+"'.");this.method=e}run(e){console.debug("start "+this.constructor.name),super.start(),this.method(e),super.stop(),console.debug("stop "+this.constructor.name)}};var R=class extends v{iterate(e){let t=0;for(let r=0;r<e;++r)t++;return t}run(e){console.debug("start "+this.constructor.name),super.start(),this.iterate(...e.parameters),super.stop(),console.debug("stop "+this.constructor.name)}};var _=class extends v{strings_dynamic(e,t){return e.includes(t)}run(e){console.debug("start "+this.constructor.name),super.start();let t=e.parameters.slice(1);for(let r=0;r<e.parameters[0];r++)this.strings_dynamic(...t);super.stop(),console.debug("stop "+this.constructor.name)}};function L(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}var B=class extends T{constructor(e){super(e)}run(e){console.debug("start "+this.constructor.name),super.start();let t=e.parameters[0],r=e.parameters.slice(1),a=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?L(r,!0).forEach(function(t){Object(i.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e,{parameters:r});for(let s=0;s<t;s++)this.method(a);super.stop(),console.debug("stop "+this.constructor.name)}};var A=class extends _{run(e){console.debug("start "+this.constructor.name),super.start();for(let t=0;t<e.parameters[0];t++)super.strings_dynamic("hello world","world");super.stop(),console.debug("stop "+this.constructor.name)}};var F=class extends v{sum(e){return e.reduce((e,t)=>e+t,0)}run(e){console.debug("start "+this.constructor.name),super.start();for(let t=0;t<e.parameters[0];t++)this.sum([1,2,3,4,5,6,7,8,9]);super.stop(),console.debug("stop "+this.constructor.name)}};function M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}var H=class extends v{constructor(){super(),this.canvas=null,this.context=null,this.video=null,this.frameCount=0,this.onDraw=null}onEnd(e){super.stop(),console.debug("stop "+this.constructor.name),e()}getVideoFrame(){const e=document.createElement("canvas");e.width=this.video.videoWidth,e.height=this.video.videoHeight;const t=e.getContext("2d");return t.drawImage(this.video,0,0,e.width,e.height),t.getImageData(0,0,e.width,e.height)}renderVideo(){this.onDraw(),this.video.paused||requestAnimationFrame(this.renderVideo.bind(this))}convolve(e,t,r,a,s,n=1){const o=a.length,i=Math.floor(o/2);for(let c=0;c<n;c+=1)for(let n=1;n<r-1;n+=1)for(let r=1;r<t-1;r+=1){const c=4*(n*t+r);let l=0,p=0,m=0;for(let s=0;s<o;++s)for(let c=0;c<o;++c){const o=4*((n+(s-i))*t+(r+(c-i)));l+=e[o]*a[s][c],p+=e[o+1]*a[s][c],m+=e[o+2]*a[s][c]}e[c]=s*l,e[c+1]=s*p,e[c+2]=s*m}return e}async run(e){console.debug("start "+this.constructor.name),this.video=e.externalData.data;const t=document.createElement("canvas");t.width=this.video.videoWidth,t.height=this.video.videoHeight,this.canvas=t,this.context=t.getContext("2d"),await this.onLoad(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?M(r,!0).forEach(function(t){Object(i.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e,{video:e.externalData.data,canvas:t}));const r=new Promise((e,t)=>{this.video.addEventListener("ended",()=>{this.onEnd(e)},!1),this.video.addEventListener("error",()=>{this.onEnd(t)},!1)});return super.start(),this.video.play(),this.renderVideo(),r}results(){return this.result=this.frameCount/(this.stopTime-this.startTime)*1e3,this.result}};var W=class extends H{constructor(){super(),super.onDraw=()=>{let e=this.getVideoFrame();e.data.set(this.convolve(e.data,this.video.videoWidth,this.video.videoHeight,[[1,1,1],[1,1,1],[1,1,1]],1/9,6)),this.context.putImageData(e,0,0),this.frameCount++}}convolve(e,t,r,a,s,n=1){const o=a.length,i=Math.floor(o/2);for(let c=0;c<n;c+=1)for(let n=1;n<r-1;n+=1)for(let r=1;r<t-1;r+=1){const c=4*(n*t+r);let l=0,p=0,m=0;for(let s=0;s<o;++s)for(let c=0;c<o;++c){const o=4*((n+(s-i))*t+(r+(c-i)));l+=e[o]*a[s][c],p+=e[o+1]*a[s][c],m+=e[o+2]*a[s][c]}e[c]=s*l,e[c+1]=s*p,e[c+2]=s*m}return e}};var V=class extends H{constructor(){super(),super.onDraw=()=>{let e=this.getVideoFrame();e.data.set(this.convolve(e.data,this.video.videoWidth,this.video.videoHeight)),this.context.putImageData(e,0,0),this.frameCount++}}convolve(e,t,r){return window.wasm.rust.convolve_video(e,this.video.videoWidth,this.video.videoHeight,1/9,6)}};var z=class extends H{constructor(){super(),super.onDraw=()=>{let e=this.getVideoFrame();e.data.set(this.convolve(e.data,this.video.videoWidth,this.video.videoHeight)),this.context.putImageData(e,0,0),this.frameCount++}}convolve(e,t,r){return e=window.wasm.go.convolve_video(e,this.canvas.width,this.canvas.height,1/9,6)}};const q=e=>Math.round(e),J=e=>e.toFixed(1)+" fps",G={chart:{width:"100%",height:64,type:"bar",animations:{enabled:!1}},markers:{size:7},dataLabels:{enabled:!0,formatter:J},xaxis:{title:{text:"Iterations"},categories:[]},yaxis:{title:{text:"Frames per second"},labels:{formatter:J}},legend:{show:!0},title:{text:"Frame rate",align:"left"},tooltip:{y:{formatter:J}}},N={chart:{width:"100%",height:16,type:"line",animations:{enabled:!1}},markers:{size:7},dataLabels:{enabled:!0,formatter:q},xaxis:{title:{text:"Iterations"},categories:[]},yaxis:{title:{text:"Duration in ms"},labels:{formatter:q}},legend:{show:!0},title:{text:"Time taken to run the benchmarks",align:"left"},tooltip:{y:{formatter:e=>q(e)+" ms"}}};var U={players:{js:{logo:"logos/es-ecmascript-logo.svg",color:"rgb(248,220,61)"},rust:{logo:"logos/rust-logo-blk.svg",color:"black"},go:{logo:"logos/Go-Logo_Aqua.svg",color:"#2DBCAF"}},benchmarks:[{name:"Iterate",description:"simple number iteration",runners:[{name:"Iterate 100m",type:"js",factory:()=>new R},{name:"Iterate 100m",type:"rust",factory:()=>new T(e=>window.wasm.rust.iterate(...e.parameters))},{name:"Iterate 100m",type:"go",factory:()=>new T(e=>window.wasm.go.iterate(...e.parameters))}],parameters:[1e8],repeat:5,chart:{component:y.a,options:N},result:[],error:null},{name:"Strings dynamic",description:"",runners:[{name:"strings",type:"js",factory:()=>new _},{name:"strings",type:"rust",factory:()=>new B(e=>window.wasm.rust.strings_dynamic(...e.parameters))},{name:"strings",type:"go",factory:()=>new B(e=>window.wasm.go.strings_dynamic(...e.parameters))}],parameters:[1e4,"hello world","world"],repeat:5,chart:{component:y.a,options:N},result:[],error:null},{name:"Strings static",description:"",runners:[{name:"strings",type:"js",factory:()=>new A},{name:"strings",type:"rust",factory:()=>new T(e=>window.wasm.rust.strings_static(...e.parameters))},{name:"strings",type:"go",factory:()=>new T(e=>window.wasm.go.strings_static(...e.parameters))}],parameters:[1e6],repeat:5,chart:{component:y.a,options:N},result:[],error:null},{name:"Sum static",description:"",runners:[{name:"sum",type:"js",factory:()=>new F},{name:"sum",type:"rust",factory:()=>new T(e=>window.wasm.rust.sum(...e.parameters))},{name:"sum",type:"go",factory:()=>new T(e=>window.wasm.go.sum(...e.parameters))}],parameters:[1e6],repeat:5,chart:{component:y.a,options:N},result:[],error:null},{name:"Fibunacci sequence",description:"Some number algo",runners:[{name:"Iterative 100m",type:"js",factory:()=>new f},{name:"Iterative 100m",type:"rust",factory:()=>new T(e=>window.wasm.rust.fibonacci(...e.parameters))},{name:"Iterative 100m",type:"go",factory:()=>new T(e=>window.wasm.go.fibonacci(...e.parameters))}],parameters:[1e8],repeat:5,chart:{component:y.a,options:N},result:[],error:null},{name:"Towers of Hanoi",description:"Some number algo",runners:[{name:"Recursive 20",type:"js",factory:()=>new b},{name:"Recursive 20",type:"rust",factory:()=>new T(e=>window.wasm.rust.hanoi(...e.parameters))},{name:"Recursive 20",type:"go",factory:()=>new T(e=>window.wasm.go.hanoi(...e.parameters))}],parameters:[20,"A","B","C"],repeat:5,chart:{component:y.a,options:N},result:[],error:null},{name:"Sort",description:"Sort a list of elements containing multiple fields",runners:[{name:"Sort",type:"js",factory:()=>new x},{name:"Sort",type:"rust",factory:()=>new T(e=>window.wasm.rust.sort(...e.parameters))},{name:"Sort",type:"go",factory:()=>new T(e=>window.wasm.go.sort(...e.parameters))}],parameters:[],externalData:{type:"sort",path:"data/users.json",repeat:100},repeat:5,chart:{component:y.a,options:N},result:[],error:null},{name:"Prime numbers",description:"Sieve of Atkin",runners:[{name:"Prime",type:"js",factory:()=>new E},{name:"Prime",type:"rust",factory:()=>new T(e=>window.wasm.rust.prime(...e.parameters))},{name:"Prime",type:"go",factory:()=>new T(e=>window.wasm.go.prime(...e.parameters))}],parameters:[3e6],repeat:5,chart:{component:y.a,options:N},result:[],error:null},{name:"Encryption",description:"Encryption",runners:[{name:"AES CBC",type:"js",factory:()=>new D},{name:"AES CBC",type:"rust",factory:()=>new T(()=>window.wasm.rust.aes())},{name:"AES CBC",type:"go",factory:()=>new T(()=>window.wasm.go.aes())}],parameters:[[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16],[17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32]],externalData:{type:"bytes",path:"data/random.txt",repeat:100},repeat:5,chart:{component:y.a,options:N},result:[],error:null},{name:"Compression Deflate",description:"Deflate",runners:[{name:"Deflate",type:"js",factory:()=>new P},{name:"Deflate",type:"rust",factory:()=>new T(()=>window.wasm.go.deflate())},{name:"Deflate",type:"go",factory:()=>new T(()=>window.wasm.go.deflate())}],parameters:[],externalData:{type:"bytes",path:"data/random.txt",repeat:500},repeat:5,chart:{component:y.a,options:N},result:[],error:null},{name:"Convolution filter",description:"convolution filter",runners:[{name:"convolve",type:"js",factory:()=>new C},{name:"convolve",type:"rust",factory:()=>new S},{name:"convolve",type:"go",factory:()=>new I}],parameters:[],externalData:{type:"image",path:"data/photo.jpg",repeat:1},repeat:5,chart:{component:y.a,options:N},showCanvas:!0,canvas:document.createElement("canvas"),result:[],error:null},{name:"Video filter",description:"video filter",runners:[{name:"convolve video",type:"js",factory:()=>new W},{name:"convolve video",type:"rust",factory:()=>new V},{name:"convolve video",type:"go",factory:()=>new z}],parameters:[],externalData:{type:"video",path:"data/flowers.mp4",repeat:1},repeat:1,chart:{component:y.a,options:G},showCanvas:!0,canvas:null,video:null,result:[],error:null}]};var $=class extends a.Component{constructor(...e){super(...e),this.run=()=>{this.props.onRun&&this.props.onRun(this.props)}}fitToParent(e){const t=e.parentElement.clientWidth/e.width;t>1||(e.style.width=e.parentElement.clientWidth+"px",e.style.height=t*e.height+"px")}render(){return s.a.createElement(p.a,null,s.a.createElement(m.a,{as:"h2",floated:"left"},this.props.name,s.a.createElement(m.a.Subheader,null,this.props.description)),s.a.createElement(u.a,{circular:!0,basic:!0,color:"teal",icon:"play circle",content:"Run",onClick:()=>this.run(),floated:"right",disabled:this.props.someRunning,loading:this.props.running}),s.a.createElement(m.a,{as:"h3",style:{clear:"both"}},"Runners"),s.a.createElement(h.a,{horizontal:!0,divided:!0},this.props.runners.map(e=>s.a.createElement(h.a.Item,{key:e.name+"-"+e.type},s.a.createElement(d.a,{avatar:!0,src:U.players[e.type].logo,alt:e.type}),s.a.createElement(h.a.Content,null,s.a.createElement(h.a.Header,null,e.name))))),this.props.canvas?s.a.createElement(s.a.Fragment,null,s.a.createElement(m.a,{as:"h3"},"Canvas"),s.a.createElement("div",{ref:e=>{e&&(e.innerHTML="",e.appendChild(this.props.canvas),this.fitToParent(this.props.canvas),window.addEventListener("resize",()=>this.fitToParent(this.props.canvas),!1))}}),this.props.video?s.a.createElement("div",{ref:e=>{e&&(e.innerHTML="",e.appendChild(this.props.video),this.fitToParent(this.props.video),window.addEventListener("resize",()=>this.fitToParent(this.props.video),!1))}}):null):null,this.props.series&&this.props.series[0].data.length?s.a.createElement(s.a.Fragment,null,s.a.createElement(m.a,{as:"h3"},"Results"),s.a.createElement(this.props.chart.component,Object.assign({options:this.props.chart.options,series:this.props.series},this.props.chart.options.chart,{height:this.props.chart.options.chart.height*this.props.series.length*this.props.series[0].data.length+100}))):null,this.props.error?s.a.createElement(g.a,{error:!0,header:"Some benchmarks had errors",content:this.props.error instanceof WebAssembly.RuntimeError?this.props.error.stack:this.props.error}):null)}};var K=class extends a.Component{render(){return s.a.createElement("div",{style:{clear:"both"}},this.props.benchmarks.map(e=>s.a.createElement($,Object.assign({key:e.name},e,{someRunning:this.props.someRunning,onRun:this.props.onRun}))))}},Q=r(297),X=r(298),Y=r(299);const Z=async e=>{let t=null;if(e){let a;if("image"===e.type?a=new Image:"video"===e.type&&(a=document.createElement("video")),["image","video"].includes(e.type))t=await((e,t)=>{return new Promise((r,a)=>{if(t instanceof HTMLImageElement)t.addEventListener("load",e=>{r(t)},!1),t.src=e;else{if(!(t instanceof HTMLVideoElement))throw new Error("Invalid media type "+typeof t);t.addEventListener("loadeddata",e=>{r(t)},!1),t.src=e,t.load()}t.addEventListener("error",e=>{a(e)},!1)})})(e.path,a);else{let a=await fetch(e.path);try{t=await a.clone().json()}catch(r){t=await a.text()}}e&&e.repeat>1&&(t="object"==typeof t?Array(e.repeat).fill(t).flat():String(t).repeat(e.repeat))}return null!==t&&(e.data=t),e},ee=async(e,t)=>{let r=[],a=[],s=[];await Z(e.externalData),((e,t)=>{e&&["sort","bytes"].includes(e.type)&&(t.some(e=>"rust"===e.type)&&window.wasm.rust.prepare_test_data(e.type,e.data),t.some(e=>"go"===e.type)&&window.wasm.go.prepare_test_data(e.type,e.data))})(e.externalData,e.runners);for(let n=0;n<e.runners.length;n++){const o=e.runners[n];s.push(U.players[o.type].color);for(let s=0;s<e.repeat;s++){e.externalData&&e.externalData.type&&("rust"===o.type&&window.wasm.rust.reset_test_data(e.externalData.type),"go"===o.type&&window.wasm.go.reset_test_data(e.externalData.type));let i=o.factory();i.onLoad=t,await i.run(e),r.length<e.repeat&&r.push(s+1),a[n]||(a[n]={name:o.type+": "+o.name,data:[]}),a[n].data.push(i.results())}}return{categories:r,series:a,colors:s}};var te=class extends a.Component{constructor(e){super(e),this.setStatePromise=e=>new Promise(t=>{this.setState(e,()=>{setTimeout(()=>t(),1)})}),this.onRunAll=async()=>{await this.setStatePromise({running:!0,progress:0,progressTotal:this.props.benchmarks.length});for(let t=0;t<this.state.benchmarks.length;t++)try{await this.setStatePromise({progress:t+1}),await this.onRunBenchmark(this.props.benchmarks[t])}catch(e){console.error(e)}await this.setStatePromise({running:!1})},this.onBenchmarkLoad=async e=>{await this.setStatePromise(t=>{let r=t.benchmarks.filter(t=>t.name===e.name)[0];return Object.assign(r,e),t})},this.onRunBenchmark=async e=>{let t,r;await this.setStatePromise(t=>{return t.benchmarks.filter(t=>t.name===e.name)[0].running=!0,t});try{t=await ee(e,this.onBenchmarkLoad)}catch(a){r=a}return await this.setStatePromise(a=>{let s=a.benchmarks.filter(t=>t.name===e.name)[0];return s.running=!1,t?(s.chart.options.xaxis.categories=t.categories,s.series=t.series,s.chart.options.colors=t.colors):s.error=r||"Unknown error",a}),t},this.state={running:!1,progress:0,progressTotal:0,benchmarks:e.benchmarks}}render(){return s.a.createElement(Q.a,null,s.a.createElement(X.a,{hidden:!0}),s.a.createElement(m.a,{as:"h1",floated:"left"},"Benchmarks"),s.a.createElement(u.a,{circular:!0,color:"teal",icon:"play circle",content:"Run all benchmarks",floated:"right",loading:this.state.running,onClick:()=>this.onRunAll(),disabled:this.state.running||this.state.benchmarks.some(e=>e.running)}),this.state.running&&this.state.progressTotal?s.a.createElement("div",{style:{clear:"both"}},s.a.createElement(Y.a,{value:this.state.progress,total:this.state.progressTotal,progress:"ratio"})):null,s.a.createElement(K,{benchmarks:this.state.benchmarks,someRunning:this.state.running||this.state.benchmarks.some(e=>e.running),onRun:this.onRunBenchmark}),s.a.createElement(X.a,{hidden:!0}))}};function re(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function ae(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?re(r,!0).forEach(function(t){Object(i.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):re(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var se=class extends a.Component{constructor(e){super(e),window.wasm={},this.state={loading:!0,error:!1}}componentDidMount(){const e=new window.Go;Promise.all([r.e(3).then(r.bind(null,306)),WebAssembly.instantiateStreaming(fetch("go/webassembly-benchmarks-go.wasm"),ae({},e.importObject))]).then(t=>{window.wasm.rust=t[0],e.run(t[1].instance),this.setState({loading:!1})}).catch(e=>this.setState({error:e.message}))}render(){return this.state.error?s.a.createElement(g.a,{error:!0},"Could not start application: ",this.state.error):this.state.loading?s.a.createElement("div",null,"Loading..."):s.a.createElement("main",null,s.a.createElement(c.a,null,s.a.createElement(l.c,null,s.a.createElement(l.a,{path:"/",render:()=>s.a.createElement(te,{benchmarks:U.benchmarks})}),s.a.createElement(l.a,{path:"/test/:id",component:$}))))}};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r(291),r(292);o.a.render(s.a.createElement(se,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(e=>{e.unregister()})}},[[153,1,2]]]);
//# sourceMappingURL=main.2ec7ef09.chunk.js.map