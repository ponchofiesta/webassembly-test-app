(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{156:function(t,e,a){t.exports=a(297)},296:function(t,e,a){},297:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),o=a(41),s=a.n(o),c=a(9),i=a(10),u=a(11),l=a(2),p=a(12),h=a(304),b=a(312),m=a(311),f=a(97),j=a(24),O=a.n(j),d=a(34),y=a(308),g=a(310),v=a(307),w=a(305),k=a(145),x=a(306),E=a(38),C=a.n(E),D=a(21),S=a(8),R=function(){function t(){Object(c.a)(this,t),this.result=null,this.startTime=null,this.stopTime=null}return Object(i.a)(t,[{key:"prepareTestData",value:function(t){console.warn(this.constuctor.name+" not implemented.")}},{key:"resetTestData",value:function(t){console.warn(this.constuctor.name+" not implemented.")}},{key:"run",value:function(){console.warn(this.constuctor.name+" not implemented.")}},{key:"start",value:function(){this.startTime=performance.now()}},{key:"stop",value:function(){this.stopTime=performance.now(),this.result=this.stopTime-this.startTime}},{key:"results",value:function(){return this.result}},{key:"createCanvas",value:function(t){var e=document.createElement("canvas");return e.width=t.width,e.height=t.height,e.getContext("2d").drawImage(t,0,0),e}},{key:"updateCanvas",value:function(t,e){t.width=e.width,t.height=e.height,t.getContext("2d").putImageData(e.getContext("2d").getImageData(0,0,e.width,e.height),0,0)}}]),t}(),T=function(t){function e(){return Object(c.a)(this,e),Object(u.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(i.a)(e,[{key:"fibonacci",value:function(t){for(var e,a=0,n=1;t-- >0;)e=a,a=n,n+=e;return a}},{key:"run",value:function(t){console.debug("start "+this.constructor.name),Object(S.a)(Object(l.a)(e.prototype),"start",this).call(this),this.fibonacci.apply(this,Object(D.a)(t.parameters)),Object(S.a)(Object(l.a)(e.prototype),"stop",this).call(this),console.debug("stop "+this.constructor.name)}}]),e}(R),B=function(t){function e(){return Object(c.a)(this,e),Object(u.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(i.a)(e,[{key:"run",value:function(t){var a;console.debug("start "+this.constructor.name),Object(S.a)(Object(l.a)(e.prototype),"start",this).call(this),(a=window.wasm.rust).fibonacci.apply(a,Object(D.a)(t.parameters)),Object(S.a)(Object(l.a)(e.prototype),"stop",this).call(this),console.debug("stop "+this.constructor.name)}}]),e}(R),A=function(t){function e(){return Object(c.a)(this,e),Object(u.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(i.a)(e,[{key:"run",value:function(t){var a;console.debug("start "+this.constructor.name),Object(S.a)(Object(l.a)(e.prototype),"start",this).call(this),(a=window.wasm.go).fibonacci.apply(a,Object(D.a)(t.parameters)),Object(S.a)(Object(l.a)(e.prototype),"stop",this).call(this),console.debug("stop "+this.constructor.name)}}]),e}(R),I=function(t){function e(){var t;return Object(c.a)(this,e),(t=Object(u.a)(this,Object(l.a)(e).call(this))).moves="",t}return Object(p.a)(e,t),Object(i.a)(e,[{key:"hanoi",value:function(t,e,a,n){return t>0&&(this.hanoi(t-1,e,n,a),this.moves+=e+"->"+n+"\n",this.hanoi(t-1,a,e,n)),this.moves}},{key:"run",value:function(t){console.debug("start "+this.constructor.name),Object(S.a)(Object(l.a)(e.prototype),"start",this).call(this),this.hanoi.apply(this,Object(D.a)(t.parameters)),Object(S.a)(Object(l.a)(e.prototype),"stop",this).call(this),console.debug("stop "+this.constructor.name)}}]),e}(R),P=function(t){function e(){return Object(c.a)(this,e),Object(u.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(i.a)(e,[{key:"run",value:function(t){var a;console.debug("start "+this.constructor.name),Object(S.a)(Object(l.a)(e.prototype),"start",this).call(this),(a=window.wasm.rust).hanoi.apply(a,Object(D.a)(t.parameters)),Object(S.a)(Object(l.a)(e.prototype),"stop",this).call(this),console.debug("stop "+this.constructor.name)}}]),e}(R),_=function(t){function e(){return Object(c.a)(this,e),Object(u.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(i.a)(e,[{key:"run",value:function(t){var a;console.debug("start "+this.constructor.name),Object(S.a)(Object(l.a)(e.prototype),"start",this).call(this),(a=window.wasm.go).hanoi.apply(a,Object(D.a)(t.parameters)),Object(S.a)(Object(l.a)(e.prototype),"stop",this).call(this),console.debug("stop "+this.constructor.name)}}]),e}(R),F=function(t){function e(){return Object(c.a)(this,e),Object(u.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(i.a)(e,[{key:"sort",value:function(t){return t.sort(function(t,e){return t.name<e.name?-1:t.name>e.name?1:0})}},{key:"run",value:function(t){console.debug("start "+this.constructor.name);var a=JSON.parse(JSON.stringify(t.externalData.data));Object(S.a)(Object(l.a)(e.prototype),"start",this).call(this),this.sort(a),Object(S.a)(Object(l.a)(e.prototype),"stop",this).call(this),console.debug("stop "+this.constructor.name)}}]),e}(R),M=function(t){function e(){return Object(c.a)(this,e),Object(u.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(i.a)(e,[{key:"run",value:function(t){var a;console.debug("start "+this.constructor.name),Object(S.a)(Object(l.a)(e.prototype),"start",this).call(this),(a=window.wasm.rust).sort.apply(a,Object(D.a)(t.parameters)),Object(S.a)(Object(l.a)(e.prototype),"stop",this).call(this),console.debug("stop "+this.constructor.name)}}]),e}(R),L=function(t){function e(){return Object(c.a)(this,e),Object(u.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(i.a)(e,[{key:"run",value:function(t){var a;console.debug("start "+this.constructor.name),Object(S.a)(Object(l.a)(e.prototype),"start",this).call(this),(a=window.wasm.go).sort.apply(a,Object(D.a)(t.parameters)),Object(S.a)(Object(l.a)(e.prototype),"stop",this).call(this),console.debug("stop "+this.constructor.name)}}]),e}(R),W=function(t){function e(){return Object(c.a)(this,e),Object(u.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(i.a)(e,[{key:"prime",value:function(t){var e=[];t>2&&e.push(2),t>3&&e.push(3);for(var a=Array(t).fill(!1),n=1;n*n<t;n++)for(var r=1;r*r<t;r++){var o=4*n*n+r*r;o<=t&&(o%12===1||o%12===5)&&(a[o]^=!0),(o=3*n*n+r*r)<=t&&o%12===7&&(a[o]^=!0),o=3*n*n-r*r,n>r&&o<=t&&o%12===11&&(a[o]^=!0)}for(var s=5;s*s<t;s++)if(a[s])for(var c=s*s;c<t;c+=s*s)a[c]=!1;for(var i=5;i<t;i++)a[i]&&e.push(i);return e}},{key:"run",value:function(t){console.debug("start "+this.constructor.name),this.start(),this.prime.apply(this,Object(D.a)(t.parameters)),this.stop(),console.debug("stop "+this.constructor.name)}}]),e}(R),J=function(t){function e(){return Object(c.a)(this,e),Object(u.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(i.a)(e,[{key:"run",value:function(t){var e;console.debug("start "+this.constructor.name),this.start(),(e=window.wasm.rust).prime.apply(e,Object(D.a)(t.parameters)),this.stop(),console.debug("stop "+this.constructor.name)}}]),e}(R),q=function(t){function e(){return Object(c.a)(this,e),Object(u.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(i.a)(e,[{key:"run",value:function(t){var e;console.debug("start "+this.constructor.name),this.start(),(e=window.wasm.go).prime.apply(e,Object(D.a)(t.parameters)),this.stop(),console.debug("stop "+this.constructor.name)}}]),e}(R),z=a(47),G=function(t){function e(){return Object(c.a)(this,e),Object(u.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(i.a)(e,[{key:"aes_encrypt",value:function(t,e,a){return new z.ModeOfOperation.cbc(t,e).encrypt(a)}},{key:"aes_decrypt",value:function(t,e,a){return new z.ModeOfOperation.cbc(t,e).decrypt(a)}},{key:"run",value:function(t){console.debug("start "+this.constructor.name);var a=z.utils.utf8.toBytes(t.externalData.data);Object(S.a)(Object(l.a)(e.prototype),"start",this).call(this),this.aes_encrypt.apply(this,Object(D.a)(t.parameters).concat([a])),Object(S.a)(Object(l.a)(e.prototype),"stop",this).call(this),console.debug("stop "+this.constructor.name)}}]),e}(R),H=function(t){function e(){return Object(c.a)(this,e),Object(u.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(i.a)(e,[{key:"run",value:function(t){console.debug("start "+this.constructor.name),Object(S.a)(Object(l.a)(e.prototype),"start",this).call(this),window.wasm.rust.aes(),Object(S.a)(Object(l.a)(e.prototype),"stop",this).call(this),console.debug("stop "+this.constructor.name)}}]),e}(R),N=function(t){function e(){return Object(c.a)(this,e),Object(u.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(i.a)(e,[{key:"run",value:function(){console.debug("start "+this.constructor.name),Object(S.a)(Object(l.a)(e.prototype),"start",this).call(this),window.wasm.go.aes(),Object(S.a)(Object(l.a)(e.prototype),"stop",this).call(this),console.debug("stop "+this.constructor.name)}}]),e}(R),$=a(133),K=a.n($),Q=function(t){function e(){return Object(c.a)(this,e),Object(u.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(i.a)(e,[{key:"deflate",value:function(t){return K.a.deflate(t,{raw:!0})}},{key:"run",value:function(t){console.debug("start "+this.constructor.name);var a=z.utils.utf8.toBytes(t.externalData.data);Object(S.a)(Object(l.a)(e.prototype),"start",this).call(this),this.deflate(a),Object(S.a)(Object(l.a)(e.prototype),"stop",this).call(this),console.debug("stop "+this.constructor.name)}}]),e}(R),U=function(t){function e(){return Object(c.a)(this,e),Object(u.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(i.a)(e,[{key:"run",value:function(t){console.debug("start "+this.constructor.name),Object(S.a)(Object(l.a)(e.prototype),"start",this).call(this),window.wasm.rust.deflate(),Object(S.a)(Object(l.a)(e.prototype),"stop",this).call(this),console.debug("stop "+this.constructor.name)}}]),e}(R),V=function(t){function e(){return Object(c.a)(this,e),Object(u.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(i.a)(e,[{key:"run",value:function(t){console.debug("start "+this.constructor.name),Object(S.a)(Object(l.a)(e.prototype),"start",this).call(this),window.wasm.go.deflate(),Object(S.a)(Object(l.a)(e.prototype),"stop",this).call(this),console.debug("stop "+this.constructor.name)}}]),e}(R),X=function(t){function e(){var t,a;Object(c.a)(this,e);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(t=Object(l.a)(e)).call.apply(t,[this].concat(r)))).convoluteFilter=function(t,e,a){for(var n=Math.round(Math.sqrt(e.length)),r=Math.floor(n/2),o=t.getContext("2d"),s=o.getImageData(0,0,t.width,t.height),c=s.data,i=s.width,u=s.height,l=o.createImageData(i,u),p=l.data,h=0;h<u;h++)for(var b=0;b<i;b++){for(var m=4*(h*i+b),f=0,j=0,O=0,d=0;d<n;d++)for(var y=0;y<n;y++){var g=h+d-r,v=b+y-r;if(g>=0&&g<u&&v>=0&&v<i){var w=4*(g*i+v),k=e[d*n+y];f+=c[w]*k,j+=c[w+1]*k,O+=c[w+2]*k}}p[m]=f*a,p[m+1]=j*a,p[m+2]=O*a,p[m+3]=c[m+3]}o.putImageData(l,0,0)},a}return Object(p.a)(e,t),Object(i.a)(e,[{key:"convolve",value:function(t){this.convoluteFilter(t,[0,.2,0,.2,.2,.2,0,.2,0],1)}},{key:"run",value:function(t){console.debug("start "+this.constructor.name);var a=this.createCanvas(t.externalData.data);Object(S.a)(Object(l.a)(e.prototype),"start",this).call(this),this.convolve(a),Object(S.a)(Object(l.a)(e.prototype),"stop",this).call(this);var n=a.getContext("2d").getImageData(0,0,a.width,a.height);console.log(n.data[0]+" "+n.data[1]+" "+n.data[2]),this.updateCanvas(t.canvas,a),console.debug("stop "+this.constructor.name)}}]),e}(R),Y=function(t){function e(){return Object(c.a)(this,e),Object(u.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(i.a)(e,[{key:"run",value:function(t){console.debug("start "+this.constructor.name);var a=this.createCanvas(t.externalData.data);Object(S.a)(Object(l.a)(e.prototype),"start",this).call(this),window.wasm.rust.convolve(a),Object(S.a)(Object(l.a)(e.prototype),"stop",this).call(this);var n=a.getContext("2d").getImageData(0,0,a.width,a.height);console.log(n.data[0]+" "+n.data[1]+" "+n.data[2]),this.updateCanvas(t.canvas,a),console.debug("stop "+this.constructor.name)}}]),e}(R),Z=function(t){function e(){return Object(c.a)(this,e),Object(u.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(i.a)(e,[{key:"run",value:function(t){console.debug("start "+this.constructor.name);var a=this.createCanvas(t.externalData.data);Object(S.a)(Object(l.a)(e.prototype),"start",this).call(this),window.wasm.go.convolve(a),Object(S.a)(Object(l.a)(e.prototype),"stop",this).call(this),this.updateCanvas(t.canvas,a),console.debug("stop "+this.constructor.name)}}]),e}(R),tt=function(t){return Math.round(t)},et={chart:{width:"100%",height:16,type:"line",animations:{enabled:!0,easing:"easeinout",speed:200,animateGradually:{enabled:!0,delay:0},dynamicAnimation:{enabled:!0,speed:200}}},markers:{size:7},dataLabels:{enabled:!0,formatter:tt},xaxis:{title:{text:"Iterations"},categories:[]},yaxis:{title:{text:"Duration in ms"},labels:{formatter:tt}},legend:{show:!0},title:{text:"Time taken to run the benchmarks",align:"left"},tooltip:{y:{formatter:function(t){return tt(t)+" ms"}}}},at={players:{js:{logo:"logos/es-ecmascript-logo.svg",color:"rgb(248,220,61)"},rust:{logo:"logos/rust-logo-blk.svg",color:"black"},go:{logo:"logos/Go-Logo_Aqua.svg",color:"#2DBCAF"}},benchmarks:[{name:"Fibunacci sequence",description:"Some number algo",runners:[{name:"Iterative 100m",type:"js",factory:function(){return new T}},{name:"Iterative 100m",type:"rust",factory:function(){return new B}},{name:"Iterative 100m",type:"go",factory:function(){return new A}}],parameters:[1e8],repeat:5,chart:{component:C.a,options:et},result:[],error:null},{name:"Towers of Hanoi",description:"Some number algo",runners:[{name:"Recursive 20",type:"js",factory:function(){return new I}},{name:"Recursive 20",type:"rust",factory:function(){return new P}},{name:"Recursive 20",type:"go",factory:function(){return new _}}],parameters:[20,"A","B","C"],repeat:5,chart:{component:C.a,options:et},result:[],error:null},{name:"Sort",description:"Sort a list of elements containing multiple fields",runners:[{name:"Sort",type:"js",factory:function(){return new F}},{name:"Sort",type:"rust",factory:function(){return new M}},{name:"Sort",type:"go",factory:function(){return new L}}],parameters:[],externalData:{type:"sort",path:"data/users.json",repeat:100},repeat:5,chart:{component:C.a,options:et},result:[],error:null},{name:"Prime numbers",description:"Sieve of Atkin",runners:[{name:"Prime",type:"js",factory:function(){return new W}},{name:"Prime",type:"rust",factory:function(){return new J}},{name:"Prime",type:"go",factory:function(){return new q}}],parameters:[3e6],repeat:5,chart:{component:C.a,options:et},result:[],error:null},{name:"Encryption",description:"Encryption",runners:[{name:"AES CBC",type:"js",factory:function(){return new G}},{name:"AES CBC",type:"rust",factory:function(){return new H}},{name:"AES CBC",type:"go",factory:function(){return new N}}],parameters:[[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16],[17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32]],externalData:{type:"bytes",path:"data/random.txt",repeat:100},repeat:5,chart:{component:C.a,options:et},result:[],error:null},{name:"Compression Deflate",description:"Deflate",runners:[{name:"Deflate",type:"js",factory:function(){return new Q}},{name:"Deflate",type:"rust",factory:function(){return new U}},{name:"Deflate",type:"go",factory:function(){return new V}}],parameters:[],externalData:{type:"bytes",path:"data/random.txt",repeat:500},repeat:5,chart:{component:C.a,options:et},result:[],error:null},{name:"Convolution filter",description:"convolution filter",runners:[{name:"convolve",type:"js",factory:function(){return new X}},{name:"convolve",type:"rust",factory:function(){return new Y}},{name:"convolve",type:"go",factory:function(){return new Z}}],parameters:[],externalData:{type:"image",path:"data/icon-64x64.png",repeat:1},repeat:5,chart:{component:C.a,options:et},showCanvas:!0,canvas:document.createElement("canvas"),result:[],error:null}]},nt=function(t){function e(){var t,a;Object(c.a)(this,e);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(t=Object(l.a)(e)).call.apply(t,[this].concat(r)))).run=function(){a.props.onRun&&a.props.onRun(a.props)},a}return Object(p.a)(e,t),Object(i.a)(e,[{key:"fitToParent",value:function(t){var e=t.parentElement.clientWidth/t.width;e>1||(t.style.width=t.parentElement.clientWidth+"px",t.style.height=e*t.height+"px")}},{key:"render",value:function(){var t=this;return r.a.createElement(y.a,null,r.a.createElement(g.a,{as:"h2",floated:"left"},this.props.name,r.a.createElement(g.a.Subheader,null,this.props.description)),r.a.createElement(v.a,{circular:!0,basic:!0,color:"teal",icon:"play circle",content:"Run",onClick:function(){return t.run()},floated:"right",disabled:this.props.someRunning,loading:this.props.running}),r.a.createElement(g.a,{as:"h3",style:{clear:"both"}},"Runners"),r.a.createElement(w.a,{horizontal:!0,divided:!0},this.props.runners.map(function(t){return r.a.createElement(w.a.Item,{key:t.name+"-"+t.type},r.a.createElement(k.a,{avatar:!0,src:at.players[t.type].logo,alt:t.type}),r.a.createElement(w.a.Content,null,r.a.createElement(w.a.Header,null,t.name)))})),this.props.canvas&&this.props.series&&this.props.series[0].data.length?r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,{as:"h3"},"Canvas"),r.a.createElement("div",{ref:function(e){e&&(e.appendChild(t.props.canvas),t.fitToParent(t.props.canvas),window.addEventListener("resize",function(){return t.fitToParent(t.props.canvas)},!1))}})):null,this.props.series&&this.props.series[0].data.length?r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,{as:"h3"},"Results"),r.a.createElement(this.props.chart.component,Object.assign({options:this.props.chart.options,series:this.props.series},this.props.chart.options.chart,{height:this.props.chart.options.chart.height*this.props.series.length*this.props.series[0].data.length+100}))):null,this.props.error?r.a.createElement(x.a,{error:!0,header:"Some benchmarks had errors",content:this.props.error}):null)}}]),e}(n.Component),rt=function(t){function e(){return Object(c.a)(this,e),Object(u.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(i.a)(e,[{key:"render",value:function(){var t=this;return r.a.createElement("div",{style:{clear:"both"}},this.props.benchmarks.map(function(e){return r.a.createElement(nt,Object.assign({key:e.name},e,{someRunning:t.props.someRunning,onRun:t.props.onRun}))}))}}]),e}(n.Component),ot=a(301),st=a(302),ct=a(303),it=function(t){return new Promise(function(e){return setTimeout(Object(d.a)(O.a.mark(function a(){var n;return O.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t();case 2:n=a.sent,e(n);case 4:case"end":return a.stop()}},a)})),1)})},ut=function(t){return new Promise(function(e,a){var n=new Image;n.addEventListener("load",function(t){e(n)},!1),n.addEventListener("error",function(t){a(t)},!1),n.src=t})},lt=function(){var t=Object(d.a)(O.a.mark(function t(e){var a,n;return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=null,!e){t.next=23;break}if("image"!==e.type){t.next=8;break}return t.next=5,ut(e.path);case 5:a=t.sent,t.next=22;break;case 8:return t.next=10,fetch(e.path);case 10:return n=t.sent,t.prev=11,t.next=14,n.clone().json();case 14:a=t.sent,t.next=22;break;case 17:return t.prev=17,t.t0=t.catch(11),t.next=21,n.text();case 21:a=t.sent;case 22:e&&e.repeat>1&&(a="object"==typeof a?Array(e.repeat).fill(a).flat():String(a).repeat(e.repeat));case 23:null!==a&&(e.data=a);case 24:case"end":return t.stop()}},t,null,[[11,17]])}));return function(e){return t.apply(this,arguments)}}(),pt=function(){var t=Object(d.a)(O.a.mark(function t(e){var a,n,r;return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=[],n=[],r=[],t.next=5,lt(e.externalData);case 5:return o=e.externalData,s=e.runners,o&&["sort","bytes"].includes(o.type)&&(s.some(function(t){return"rust"===t.type})&&window.wasm.rust.prepare_test_data(o.type,o.data),s.some(function(t){return"go"===t.type})&&window.wasm.go.prepare_test_data(o.type,o.data)),e.runners.forEach(function(t,o){r.push(at.players[t.type].color);for(var s=0;s<e.repeat;s++){e.externalData&&e.externalData.type&&("rust"===t.type&&window.wasm.rust.reset_test_data(e.externalData.type),"go"===t.type&&window.wasm.go.reset_test_data(e.externalData.type));var c=t.factory();c.run(e),a.length<e.repeat&&a.push(s+1),n[o]||(n[o]={name:t.type+": "+t.name,data:[]}),n[o].data.push(c.results())}}),t.abrupt("return",{categories:a,series:n,colors:r});case 8:case"end":return t.stop()}var o,s},t)}));return function(e){return t.apply(this,arguments)}}(),ht=function(t){function e(t){var a;return Object(c.a)(this,e),(a=Object(u.a)(this,Object(l.a)(e).call(this,t))).setStatePromise=function(t){return new Promise(function(e){a.setState(t,function(){return e()})})},a.onRunAll=Object(d.a)(O.a.mark(function t(){return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a.setStatePromise({running:!0,progress:0,progressTotal:a.props.benchmarks.length}).then(Object(d.a)(O.a.mark(function t(){var e;return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e=0;case 1:if(!(e<a.state.benchmarks.length)){t.next=15;break}return t.prev=2,a.setState({progress:e+1}),t.next=6,a.onRunBenchmark(a.props.benchmarks[e]);case 6:t.sent,t.next=12;break;case 9:t.prev=9,t.t0=t.catch(2),console.error(t.t0);case 12:e++,t.next=1;break;case 15:a.setState({running:!1});case 16:case"end":return t.stop()}},t,null,[[2,9]])})));case 1:case"end":return t.stop()}},t)})),a.onRunBenchmark=function(t){return new Promise(function(e,n){a.setState(function(e){return e.benchmarks.filter(function(e){return e.name===t.name})[0].running=!0,e}),it(Object(d.a)(O.a.mark(function r(){return O.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",pt(t).then(function(n){a.onBenchmarkFinished(Object(f.a)({},t,{result:n})),e(n)}).catch(function(e){a.onBenchmarkFinished(Object(f.a)({},t,{error:e})),n(e)}));case 1:case"end":return r.stop()}},r)})))})},a.onBenchmarkFinished=function(t){a.setState(function(e){var a=e.benchmarks.filter(function(e){return e.name===t.name})[0];return a.running=!1,t.result&&(a.chart.options.xaxis.categories=t.result.categories,a.series=t.result.series,a.chart.options.colors=t.result.colors),t.error&&(a.error=t.error),e})},a.state={running:!1,progress:0,progressTotal:0,benchmarks:t.benchmarks},a}return Object(p.a)(e,t),Object(i.a)(e,[{key:"render",value:function(){var t=this;return r.a.createElement(ot.a,null,r.a.createElement(st.a,{hidden:!0}),r.a.createElement(g.a,{as:"h1",floated:"left"},"Benchmarks"),r.a.createElement(v.a,{circular:!0,color:"teal",icon:"play circle",content:"Run all benchmarks",floated:"right",loading:this.state.running,onClick:function(){return t.onRunAll()},disabled:this.state.running||this.state.benchmarks.some(function(t){return t.running})}),this.state.running&&this.state.progressTotal?r.a.createElement("div",{style:{clear:"both"}},r.a.createElement(ct.a,{value:this.state.progress,total:this.state.progressTotal,progress:"ratio"})):null,r.a.createElement(rt,{benchmarks:this.state.benchmarks,someRunning:this.state.running||this.state.benchmarks.some(function(t){return t.running}),onRun:this.onRunBenchmark}),r.a.createElement(st.a,{hidden:!0}))}}]),e}(n.Component),bt=function(t){function e(t){var a;return Object(c.a)(this,e),a=Object(u.a)(this,Object(l.a)(e).call(this,t)),window.wasm={},a.state={loading:!0,error:!1},a}return Object(p.a)(e,t),Object(i.a)(e,[{key:"componentDidMount",value:function(){var t=this,e=new window.Go;Promise.all([a.e(3).then(a.bind(null,313)),WebAssembly.instantiateStreaming(fetch("go/webassembly-benchmarks-go.wasm"),e.importObject)]).then(function(a){window.wasm.rust=a[0],e.run(a[1].instance),t.setState({loading:!1})}).catch(function(e){return t.setState({error:e.message})})}},{key:"render",value:function(){return this.state.error?r.a.createElement(x.a,{error:!0},"Could not start application: ",this.state.error):this.state.loading?r.a.createElement("div",null,"Loading..."):r.a.createElement("main",null,r.a.createElement(h.a,null,r.a.createElement(b.a,null,r.a.createElement(m.a,{path:"/",render:function(){return r.a.createElement(ht,{benchmarks:at.benchmarks})}}),r.a.createElement(m.a,{path:"/test/:id",component:nt}))))}}]),e}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(295),a(296);s.a.render(r.a.createElement(bt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[156,1,2]]]);
//# sourceMappingURL=main.f2c8eb61.chunk.js.map