(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{144:function(t,e,a){t.exports=a(280)},279:function(t,e,a){},280:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),s=a(40),o=a.n(s),c=a(10),i=a(11),u=a(18),l=a(7),p=a(19),h=a(287),b=a(295),m=a(294),j=a(50),f=a.n(j),O=a(86),y=a(292),d=a(288),g=a(284),w=a(293),v=a(291),k=a(289),x=a(133),E=a(290),D=a(67),S=a.n(D),T=a(23),R=a(12),C=function(){function t(){Object(c.a)(this,t),this.result=null,this.startTime=null,this.stopTime=null}return Object(i.a)(t,[{key:"prepareTestData",value:function(t){console.warn(this.constuctor.name+" not implemented.")}},{key:"resetTestData",value:function(t){console.warn(this.constuctor.name+" not implemented.")}},{key:"run",value:function(){console.warn(this.constuctor.name+" not implemented.")}},{key:"start",value:function(){this.startTime=new Date}},{key:"stop",value:function(){this.stopTime=new Date,this.result=this.stopTime-this.startTime}},{key:"results",value:function(){return this.result}}]),t}(),_=function(t){function e(){return Object(c.a)(this,e),Object(u.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(i.a)(e,[{key:"fibonacci",value:function(t){for(var e,a=0,n=1;t-- >0;)e=a,a=n,n+=e;return a}},{key:"run",value:function(t){console.debug("start "+this.constructor.name),Object(R.a)(Object(l.a)(e.prototype),"start",this).call(this),this.fibonacci.apply(this,Object(T.a)(t)),Object(R.a)(Object(l.a)(e.prototype),"stop",this).call(this),console.debug("stop "+this.constructor.name)}}]),e}(C),I=function(t){function e(){return Object(c.a)(this,e),Object(u.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(i.a)(e,[{key:"run",value:function(t){var a;console.debug("start "+this.constructor.name),Object(R.a)(Object(l.a)(e.prototype),"start",this).call(this),(a=window.wasm.rust).fibonacci.apply(a,Object(T.a)(t)),Object(R.a)(Object(l.a)(e.prototype),"stop",this).call(this),console.debug("stop "+this.constructor.name)}}]),e}(C),A=function(t){function e(){return Object(c.a)(this,e),Object(u.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(i.a)(e,[{key:"run",value:function(t){var a;console.debug("start "+this.constructor.name),Object(R.a)(Object(l.a)(e.prototype),"start",this).call(this),(a=window.wasm.go).fibonacci.apply(a,Object(T.a)(t)),Object(R.a)(Object(l.a)(e.prototype),"stop",this).call(this),console.debug("stop "+this.constructor.name)}}]),e}(C),B=function(t){function e(){var t;return Object(c.a)(this,e),(t=Object(u.a)(this,Object(l.a)(e).call(this))).moves="",t}return Object(p.a)(e,t),Object(i.a)(e,[{key:"hanoi",value:function(t,e,a,n){return t>0&&(this.hanoi(t-1,e,n,a),this.moves+=e+"->"+n+"\n",this.hanoi(t-1,a,e,n)),this.moves}},{key:"run",value:function(t){console.debug("start "+this.constructor.name),Object(R.a)(Object(l.a)(e.prototype),"start",this).call(this),this.hanoi.apply(this,Object(T.a)(t)),Object(R.a)(Object(l.a)(e.prototype),"stop",this).call(this),console.debug("stop "+this.constructor.name)}}]),e}(C),J=function(t){function e(){return Object(c.a)(this,e),Object(u.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(i.a)(e,[{key:"run",value:function(t){var a;console.debug("start "+this.constructor.name),Object(R.a)(Object(l.a)(e.prototype),"start",this).call(this),(a=window.wasm.rust).hanoi.apply(a,Object(T.a)(t)),Object(R.a)(Object(l.a)(e.prototype),"stop",this).call(this),console.debug("stop "+this.constructor.name)}}]),e}(C),L=function(t){function e(){return Object(c.a)(this,e),Object(u.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(i.a)(e,[{key:"run",value:function(t){var a;console.debug("start "+this.constructor.name),Object(R.a)(Object(l.a)(e.prototype),"start",this).call(this),(a=window.wasm.go).hanoi.apply(a,Object(T.a)(t)),Object(R.a)(Object(l.a)(e.prototype),"stop",this).call(this),console.debug("stop "+this.constructor.name)}}]),e}(C),W=function(t){function e(){return Object(c.a)(this,e),Object(u.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(i.a)(e,[{key:"sort",value:function(t){return t.sort(function(t,e){return t.name<e.name?-1:t.name>e.name?1:0})}},{key:"run",value:function(t,a){console.debug("start "+this.constructor.name);var n=JSON.parse(JSON.stringify(a.data));Object(R.a)(Object(l.a)(e.prototype),"start",this).call(this),this.sort(n),Object(R.a)(Object(l.a)(e.prototype),"stop",this).call(this),console.debug("stop "+this.constructor.name)}}]),e}(C),q=function(t){function e(){return Object(c.a)(this,e),Object(u.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(i.a)(e,[{key:"run",value:function(t,a){var n;console.debug("start "+this.constructor.name),Object(R.a)(Object(l.a)(e.prototype),"start",this).call(this),(n=window.wasm.rust).sort.apply(n,Object(T.a)(t)),Object(R.a)(Object(l.a)(e.prototype),"stop",this).call(this),console.debug("stop "+this.constructor.name)}}]),e}(C),z=function(t){function e(){return Object(c.a)(this,e),Object(u.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(i.a)(e,[{key:"run",value:function(t,a){var n;console.debug("start "+this.constructor.name),Object(R.a)(Object(l.a)(e.prototype),"start",this).call(this),(n=window.wasm.go).sort.apply(n,Object(T.a)(t)),Object(R.a)(Object(l.a)(e.prototype),"stop",this).call(this),console.debug("stop "+this.constructor.name)}}]),e}(C),F=function(t){return t+" ms"},G={chart:{width:"100%",height:16,type:"line"},markers:{size:7},dataLabels:{enabled:!0},xaxis:{title:{text:"Iterations"},categories:[]},yaxis:{title:{text:"Duration in ms"}},legend:{show:!0},title:{text:"Time taken to run the tests",align:"left"},tooltip:{y:{formatter:F}}},H={players:{js:{logo:"logos/es-ecmascript-logo.svg",color:"rgb(248,220,61)"},rust:{logo:"logos/rust-logo-blk.svg",color:"black"},go:{logo:"logos/Go-Logo_Aqua.svg",color:"#2DBCAF"}},tests:[{name:"Fibunacci sequence",description:"Some number algo",runners:[{name:"Iterative 100m",type:"js",factory:function(){return new _}},{name:"Iterative 100m",type:"rust",factory:function(){return new I}},{name:"Iterative 100m",type:"go",factory:function(){return new A}}],parameters:[1e8],repeat:5,chart:{component:S.a,options:G}},{name:"Towers of Hanoi",description:"Some number algo",runners:[{name:"Recursive 20",type:"js",factory:function(){return new B}},{name:"Recursive 20",type:"rust",factory:function(){return new J}},{name:"Recursive 20",type:"go",factory:function(){return new L}}],parameters:[20,"A","B","C"],repeat:5,chart:{component:S.a,options:G}},{name:"Sort",description:"Sort a list of elements containing multiple fields",runners:[{name:"Sort",type:"js",factory:function(){return new W}},{name:"Sort",type:"rust",factory:function(){return new q}},{name:"Sort",type:"go",factory:function(){return new z}}],parameters:[],externalData:{type:"sort",path:"data/users.json",repeat:100},repeat:5,chart:{component:S.a,options:G}}]},N=function(t){function e(t){var a;return Object(c.a)(this,e),(a=Object(u.a)(this,Object(l.a)(e).call(this,t))).startRun=function(){a.setState({running:!0,errors:[]}),setTimeout(Object(O.a)(f.a.mark(function t(){return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a.run().then(function(t){return a.finishRun(t)}).catch(function(t){a.setState({errors:[t.message?t.message:t],running:!1})});case 1:case"end":return t.stop()}},t,this)})),0),console.debug("all tests started")},a.run=Object(O.a)(f.a.mark(function t(){var e,n,r,s;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=[],n=[],r=[],s=null,!a.props.externalData){t.next=16;break}return t.next=7,fetch(a.props.externalData.path);case 7:return s=t.sent,t.prev=8,t.next=11,s.json();case 11:s=t.sent,t.next=16;break;case 14:t.prev=14,t.t0=t.catch(8);case 16:return a.props.externalData&&a.props.externalData.repeat>1&&(s=Array(a.props.externalData.repeat).fill(s).flat()),null!==s&&(a.props.externalData.data=s),a.props.externalData&&a.props.externalData.type&&(window.wasm.rust.prepare_test_data(a.props.externalData.type,a.props.externalData.data),window.wasm.go.prepare_test_data(a.props.externalData.type,a.props.externalData.data)),a.props.runners.forEach(function(t,s){r.push(H.players[t.type].color);for(var o=0;o<a.props.repeat;o++){a.props.externalData&&a.props.externalData.type&&("rust"===t.type&&window.wasm.rust.reset_test_data(a.props.externalData.type),"go"===t.type&&window.wasm.go.reset_test_data(a.props.externalData.type));var c=t.factory();c.run(a.props.parameters,a.props.externalData),e.length<a.props.repeat&&e.push(o+1),n[s]||(n[s]={name:t.type+": "+t.name,data:[]}),n[s].data.push(c.results())}}),t.abrupt("return",{categories:e,series:n,colors:r});case 21:case"end":return t.stop()}},t,this,[[8,14]])})),a.finishRun=function(t){return a.setState(function(e){return console.debug("all tests finished"),e.chart.options.xaxis.categories=t.categories,e.series=t.series,e.chart.options.colors=t.colors,e.running=!1,e})},a.state={chart:t.chart,series:[{data:[]}],running:!1,errors:[]},a}return Object(p.a)(e,t),Object(i.a)(e,[{key:"render",value:function(){return r.a.createElement(y.a,null,r.a.createElement(d.a,{inverted:!0,active:this.state.running},r.a.createElement(g.a,{disabled:!this.state.running},"Running")),r.a.createElement(w.a,{as:"h2",floated:"left"},this.props.name,r.a.createElement(w.a.Subheader,null,this.props.description)),r.a.createElement(v.a,{circular:!0,basic:!0,color:"teal",icon:"play circle",content:"Run",onClick:this.startRun,floated:"right"}),r.a.createElement(w.a,{as:"h3",style:{clear:"both"}},"Runners"),r.a.createElement(k.a,{horizontal:!0,divided:!0},this.props.runners.map(function(t){return r.a.createElement(k.a.Item,{key:t.name+"-"+t.type},r.a.createElement(x.a,{avatar:!0,src:H.players[t.type].logo,alt:t.type}),r.a.createElement(k.a.Content,null,r.a.createElement(k.a.Header,null,t.name)))})),this.state.series[0].data.length?r.a.createElement(w.a,{as:"h3"},"Results"):null,this.state.series[0].data.length?r.a.createElement(this.state.chart.component,Object.assign({options:this.state.chart.options,series:this.state.series},this.state.chart.options.chart,{height:this.state.chart.options.chart.height*this.state.series.length*this.state.series[0].data.length+100})):null,this.state.errors.length?r.a.createElement(E.a,{error:!0,header:"Some tests had errors",list:this.state.errors}):null)}}]),e}(n.Component),M=function(t){function e(){return Object(c.a)(this,e),Object(u.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(i.a)(e,[{key:"render",value:function(){return r.a.createElement("div",null,this.props.tests.map(function(t){return r.a.createElement(N,Object.assign({key:t.name},t))}))}}]),e}(n.Component),P=a(285),$=a(286),K=function(t){function e(){return Object(c.a)(this,e),Object(u.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(i.a)(e,[{key:"render",value:function(){return r.a.createElement(P.a,null,r.a.createElement($.a,{hidden:!0}),r.a.createElement(w.a,{as:"h1"},"Tests"),r.a.createElement(M,{tests:this.props.tests}),r.a.createElement($.a,{hidden:!0}))}}]),e}(n.Component),Q=function(t){function e(t){var a;return Object(c.a)(this,e),a=Object(u.a)(this,Object(l.a)(e).call(this,t)),window.wasm={},a.state={loading:!0,error:!1},a}return Object(p.a)(e,t),Object(i.a)(e,[{key:"componentDidMount",value:function(){var t=this,e=new window.Go;Promise.all([a.e(3).then(a.bind(null,296)),WebAssembly.instantiateStreaming(fetch("go/webassembly-tests-go.wasm"),e.importObject)]).then(function(a){window.wasm.rust=a[0],e.run(a[1].instance),t.setState({loading:!1})}).catch(function(e){return t.setState({error:e.message})})}},{key:"render",value:function(){return this.state.error?r.a.createElement(E.a,{error:!0},"Could not load configuration: ",this.state.error):this.state.loading?r.a.createElement("div",null,"Loading..."):r.a.createElement("main",null,r.a.createElement(h.a,null,r.a.createElement(b.a,null,r.a.createElement(m.a,{path:"/",render:function(){return r.a.createElement(K,{tests:H.tests})}}),r.a.createElement(m.a,{path:"/test/:id",component:N}))))}}]),e}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(278),a(279);o.a.render(r.a.createElement(Q,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[144,1,2]]]);
//# sourceMappingURL=main.dc873184.chunk.js.map