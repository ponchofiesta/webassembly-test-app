(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{141:function(t,e,n){t.exports=n(275)},274:function(t,e,n){},275:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),s=n(39),i=n.n(s),o=n(18),c=n(19),l=n(20),u=n(15),h=n(21),p=n(282),m=n(290),b=n(289),f=n(288),d=n(283),j=n(279),g=n(287),O=n(286),y=n(284),v=n(130),w=n(119),E=n.n(w),k=n(29),x=function(){function t(){Object(o.a)(this,t),this.result=null,this.startTime=null,this.stopTime=null}return Object(c.a)(t,[{key:"run",value:function(){}},{key:"start",value:function(){this.startTime=new Date}},{key:"stop",value:function(){this.stopTime=new Date,this.result=this.stopTime-this.startTime}},{key:"results",value:function(){return this.result}}]),t}(),T=function(t){function e(){return Object(o.a)(this,e),Object(l.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(h.a)(e,t),Object(c.a)(e,[{key:"fibonacci",value:function(t){for(var e,n=0,a=1;t-- >0;)e=n,n=a,a+=e;return n}},{key:"run",value:function(t){console.debug("start fibonacci"),Object(k.a)(Object(u.a)(e.prototype),"start",this).call(this),this.fibonacci(t.n),Object(k.a)(Object(u.a)(e.prototype),"stop",this).call(this),console.debug("stop fibonacci")}}]),e}(x),C=function(t){function e(){return Object(o.a)(this,e),Object(l.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(h.a)(e,t),Object(c.a)(e,[{key:"run",value:function(t){Object(k.a)(Object(u.a)(e.prototype),"start",this).call(this),window.wasm.rust.fibonacci(t.n),Object(k.a)(Object(u.a)(e.prototype),"stop",this).call(this)}}]),e}(x),R=function(t){function e(){return Object(o.a)(this,e),Object(l.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(h.a)(e,t),Object(c.a)(e,[{key:"run",value:function(t){Object(k.a)(Object(u.a)(e.prototype),"start",this).call(this),window.wasm.go.fibonacci(t.n),Object(k.a)(Object(u.a)(e.prototype),"stop",this).call(this)}}]),e}(x),S=function(t){return t+" ms"},I={chart:{width:"100%",height:16,type:"line"},markers:{size:7},dataLabels:{enabled:!0},xaxis:{title:{text:"Iterations"},categories:[]},yaxis:{title:{text:"Duration in ms"}},legend:{show:!0},title:{text:"Time taken to run the tests",align:"left"},tooltip:{y:{formatter:S}}},D={players:{js:{logo:"logos/es-ecmascript-logo.svg",color:"rgb(248,220,61)"},rust:{logo:"logos/rust-logo-blk.svg",color:"black"},go:{logo:"logos/Go-Logo_Aqua.svg",color:"#2DBCAF"}},tests:[{name:"Fibunacci sequence",description:"Some number algo",runners:[{name:"Iterative 100k",type:"js",object:new T,parameters:{n:1e8}},{name:"Iterative 100k",type:"rust",object:new C,parameters:{n:1e8}},{name:"Iterative 100k",type:"go",object:new R,parameters:{n:1e8}}],repeat:5,chart:{component:E.a,options:I}}]},A=function(t){function e(t){var n;return Object(o.a)(this,e),(n=Object(l.a)(this,Object(u.a)(e).call(this,t))).startRun=function(){n.setState({running:!0}),setTimeout(function(){var t=n.run();n.finishRun(t)},0),console.debug("all tests started")},n.run=function(){var t=[],e=[],a=[];return n.props.runners.forEach(function(r,s){a.push(D.players[r.type].color);for(var i=0;i<n.props.repeat;i++)r.object.run(r.parameters),t.length<n.props.repeat&&t.push(i+1),e[s]||(e[s]={name:r.type+": "+r.name,data:[]}),e[s].data.push(r.object.results())}),{categories:t,series:e,colors:a}},n.finishRun=function(t){return n.setState(function(e){return console.debug("all tests finished"),e.chart.options.xaxis.categories=t.categories,e.series=t.series,e.chart.options.colors=t.colors,e.running=!1,e})},n.state={chart:t.chart,series:[{data:[]}],running:!1},n}return Object(h.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){return r.a.createElement(f.a,null,r.a.createElement(d.a,{inverted:!0,active:this.state.running},r.a.createElement(j.a,{disabled:!this.state.running},"Running")),r.a.createElement(g.a,{as:"h2",floated:"left"},this.props.name,r.a.createElement(g.a.Subheader,null,this.props.description)),r.a.createElement(O.a,{circular:!0,basic:!0,color:"teal",icon:"play circle",content:"Run",onClick:this.startRun,floated:"right"}),r.a.createElement(g.a,{as:"h3",style:{clear:"both"}},"Runners"),r.a.createElement(y.a,{horizontal:!0,divided:!0},this.props.runners.map(function(t){return r.a.createElement(y.a.Item,{key:t.name+"-"+t.type},r.a.createElement(v.a,{avatar:!0,src:D.players[t.type].logo,alt:t.type}),r.a.createElement(y.a.Content,null,r.a.createElement(y.a.Header,null,t.name)))})),this.state.series[0].data.length>0&&r.a.createElement(g.a,{as:"h3"},"Results"),this.state.series[0].data.length>0&&r.a.createElement(this.state.chart.component,Object.assign({options:this.state.chart.options,series:this.state.series},this.state.chart.options.chart,{height:this.state.chart.options.chart.height*this.state.series.length*this.state.series[0].data.length+100})))}}]),e}(a.Component),B=function(t){function e(){return Object(o.a)(this,e),Object(l.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(h.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){return r.a.createElement("div",null,this.props.tests.map(function(t){return r.a.createElement(A,Object.assign({key:t.name},t))}))}}]),e}(a.Component),L=n(280),W=n(281),q=function(t){function e(){return Object(o.a)(this,e),Object(l.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(h.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){return r.a.createElement(L.a,null,r.a.createElement(W.a,{hidden:!0}),r.a.createElement(g.a,{as:"h1"},"Tests"),r.a.createElement(B,{tests:this.props.tests}))}}]),e}(a.Component),z=n(285),F=function(t){function e(t){var n;return Object(o.a)(this,e),n=Object(l.a)(this,Object(u.a)(e).call(this,t)),window.wasm={},n.state={loading:!0,error:!1},n}return Object(h.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){var t=this,e=new window.Go;Promise.all([n.e(3).then(n.bind(null,291)),WebAssembly.instantiateStreaming(fetch("go/webassembly-tests-go.wasm"),e.importObject)]).then(function(n){window.wasm.rust=n[0],e.run(n[1].instance),t.setState({loading:!1})}).catch(function(e){return t.setState({error:e.message})})}},{key:"render",value:function(){return this.state.error?r.a.createElement(z.a,{error:!0},"Could not load configuration: ",this.state.error):this.state.loading?r.a.createElement("div",null,"Loading..."):r.a.createElement("main",null,r.a.createElement(p.a,null,r.a.createElement(m.a,null,r.a.createElement(b.a,{path:"/",render:function(){return r.a.createElement(q,{tests:D.tests})}}),r.a.createElement(b.a,{path:"/test/:id",component:A}))))}}]),e}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(273),n(274);i.a.render(r.a.createElement(F,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[141,1,2]]]);
//# sourceMappingURL=main.1eba6bd9.chunk.js.map